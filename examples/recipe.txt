# an example recipe with multiple executables

executable asm_example
    $warnings no-unused
    $generate-c single-module
    asm.c2
end

executable multi_file
    $warnings no-unused
    multi_file1.c2
    multi_file2.c2
end

executable bigint
    $warnings no-unused
    $generate-c single-module
    bigint.c2
end

executable opaque_example
    $warnings no-unused
    $refs
    $deps show-files show-externals
    $generate-c single-module
    opaque_lib1.c2
    opaque_lib2.c2
    opaque_user.c2
end

executable multi_mod
    $warnings no-unused
    multi_mod1.c2
    multi_mod2.c2
end

executable layer
    $warnings no-unused
    layer1.c2
    layer2.c2
    layer3.c2
end

executable varargs
    $generate-c
    varargs.c2
end

executable comment
    $warnings no-unused
    commenttest.c2
end

executable hello
    $warnings no-unused
    $generate-ir
    helloworld.c2
end

executable iter
    $warnings no-unused
    itertest.c2
end

executable switch
    $warnings no-unused
    switchtest.c2
end

executable typetest
    $warnings no-unused
    typetest.c2
    utils.c2
end

executable working_ir
    $warnings no-unused
    working_ir.c2
end

executable array
    $warnings no-unused
    arraytest.c2
end

executable body
    $warnings no-unused
    bodytest.c2
end

executable decl
    $warnings no-unused
    decltest.c2
end

executable expr
    $warnings no-unused
    expressiontest.c2
end

executable func
    $warnings no-unused
    functest.c2
    utils.c2
end

executable if
    $warnings no-unused
    if.c2
end

executable test
    $warnings no-unused
    test.c2
end

executable inctest
    $warnings no-unused
    inctest.c2
end

executable deftest
    $warnings no-unused
    $config FOOBAR
    deftest.c2
end

executable var
    $warnings no-unused
    vartest.c2
end

executable working
    $warnings no-unused
    working.c2
end

executable use_as
    $warnings no-unused
    use1.c2
    use2.c2
    use3.c2
end

executable unarytest
    $warnings no-unused
    unaryTest.c2
end

executable issue
    $warnings no-unused
    issue1.c2
    issue2.c2
    issue_type1.c2
    issue_type2.c2
end

executable ccode
    $warnings no-unused
    ccode.c2
    ccode2.c2
    ccode3.c2
end

lib mylib static
    $warnings no-unused
    $generate-c
    $export mylib mylib_extra
    mylib1.c2
    mylib2.c2
    mylib3.c2
end

lib foobar shared
    $warnings no-unused
    $generate-c
    $export mylib
    mylib1.c2
    mylib2.c2
end

executable libc_test
    $warnings no-unused
    $refs
    $deps show-files show-externals
    $generate-c
    libc_test.c2
end

executable incremental
    $deps show-files show-externals
    $generate-c single-module
    incr1.c2
    incr2.c2
    incr_main.c2
end

executable baremetal
    $warnings no-unused
    $nolibc
    $generate-c
    baremetal.c2
end

executable pthread_test
    $warnings no-unused
    $refs
    $deps show-files show-externals
    $generate-c
    $use pthread dynamic
    pthread.c2
end

executable puzzle
    $deps show-files show-externals
    $refs
    $generate-c single-module
    puzzle.c2
    puzzle2.c2
end

executable snake
    $deps show-files show-externals
    $refs
    $generate-c single-module
    snake.c2
end

executable big
    $warnings no-unused
    $refs
    $deps show-files show-externals
    $generate-c single-module
    big.c2
end
